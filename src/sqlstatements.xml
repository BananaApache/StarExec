<?xml version="1.0" encoding="UTF-8"?>
<Statements>
  <Statement key="adduser" row_return="true">
        <![CDATA[INSERT INTO users (username, fname, lname, affiliation, created, email) VALUES (?, ?, ?, ?, SYSDATE(), ?)]]>
   </Statement>  
   <Statement key="addpass">
        <![CDATA[INSERT INTO passwords (userid, password) VALUES (?, ?)]]>
   </Statement>  
   <Statement key="addperm">
        <![CDATA[INSERT INTO permissions (userid) VALUES (?)]]>
   </Statement>  
   <Statement key="addlvl">
        <![CDATA[INSERT INTO levels (name, lft, rgt, gid, usr, dep) VALUES (?, ?, ?, ?, ?, ?)]]>
   </Statement>  
   <Statement key="addbench" row_return="true">
        <![CDATA[INSERT INTO benchmarks (uploaded, physical_path, usr, lvl) VALUES (SYSDATE(), ?, ?, ?)]]>
   </Statement>  
   <Statement key="addslvr" row_return="true">
        <![CDATA[INSERT INTO solvers (uploaded, path, usr, notes, name) VALUES (SYSDATE(), ?, ?, ?, ?)]]>
   </Statement>  
   <Statement key="addcanslv">
        <![CDATA[INSERT INTO can_solve VALUES (?, ?)]]>
   </Statement>  
   <Statement key="addjob" row_return="true">
        <![CDATA[INSERT INTO jobs (id, subDate, description, status, node, timeout, usr) VALUES (?, SYSDATE(), ?, ?, ?, ?, ?)]]>
   </Statement>  
   <Statement key="addjobpair">
        <![CDATA[INSERT INTO job_pairs (id, jid, cid, bid) VALUES (?, ?, ?, ?)]]>
   </Statement>  
   <Statement key="addconfig" row_return="true">
        <![CDATA[INSERT INTO configurations (sid, name, notes) VALUES (?, ?, ?)]]>		
   </Statement>  
   <Statement key="addconfig2">        
		<![CDATA[INSERT INTO configurations (sid, name) VALUES (?, ?)]]>
   </Statement>  
   <Statement key="getusr">
        <![CDATA[SELECT * FROM users JOIN passwords ON users.userid = passwords.userid WHERE users.username='?']]>
   </Statement>  
   <Statement key="getusr2">
        <![CDATA[SELECT * FROM users JOIN passwords WHERE users.userid=?]]>
   </Statement>  
   <Statement key="getslvr">
        <![CDATA[SELECT * FROM solvers WHERE id=?]]>
   </Statement>  
   <Statement key="getallslvr">
        <![CDATA[SELECT * FROM solvers]]>
   </Statement>  
   <Statement key="getbench">
        <![CDATA[SELECT * FROM benchmarks WHERE id=?]]>
   </Statement>  
   <Statement key="getimbench">
        <![CDATA[SELECT * FROM benchmarks WHERE lvl=?]]>
   </Statement>  
   <Statement key="getallbench">
        <![CDATA[SELECT * FROM benchmarks]]>
   </Statement>  
   <Statement key="getmaxlevel">
        <![CDATA[SELECT MAX(rgt) FROM levels]]>
   </Statement>  
   <Statement key="getmaxgroup">
        <![CDATA[SELECT MAX(gid) FROM levels]]>
   </Statement>  
   <Statement key="getrtlvl">
        <![CDATA[SELECT * FROM levels WHERE dep=0]]>
   </Statement> 
   <Statement key="getsublvl">
        <![CDATA[SELECT node.* FROM levels AS node, (SELECT lft, rgt, dep FROM levels WHERE id=?) AS parent WHERE node.lft > parent.lft AND node.rgt < parent.rgt AND node.dep=(parent.dep + 1)]]>
   </Statement>  
   <Statement key="getlvlbench">
        <![CDATA[SELECT bench.id FROM benchmarks AS bench, (SELECT lft, rgt, dep FROM levels WHERE id=?) AS parent WHERE bench.lvl BETWEEN parent.lft AND parent.rgt]]>
   </Statement>  
   <Statement key="getjobs">
        <![CDATA[SELECT *, TIMESTAMPDIFF(SECOND, finDate,subDate) AS runtime FROM jobs]]>
   </Statement>  
   <Statement key="getjobpairs">
        <![CDATA[SELECT jp.id, jp.jid, jp.result, jp.startTime, jp.endTime, jp.node, jp.status, b.id, b.physical_path, s.id, s.name, c.name, c.id, TIMESTAMPDIFF(SECOND, jp.endTime,jp.startTime) AS runtime FROM (((job_pairs AS jp JOIN benchmarks AS b ON bid=b.id) JOIN configurations AS c ON cid = c.id)) JOIN solvers AS s ON sid=s.id WHERE jid=?]]>
   </Statement>  
   <Statement key="getconfigs">
        <![CDATA[SELECT * FROM configurations]]>
   </Statement>  
   <Statement key="getconfigids">
        <![CDATA[SELECT id FROM configurations WHERE sid=?]]>
   </Statement>  
   <Statement key="getconfig">
        <![CDATA[SELECT * FROM configurations WHERE id=?]]>	
   </Statement>
   <Statement key="getconfigforslvr">        
		<![CDATA[SELECT * FROM configurations WHERE sid=?]]>
   </Statement>
   <Statement key="setjobstatstrt">
        <![CDATA[UPDATE jobs SET status=?,node=?,subDate=SYSDATE() WHERE id=?]]>
   </Statement>  
   <Statement key="setjobstatdone">
        <![CDATA[UPDATE jobs SET status=?,node=?,finDate=SYSDATE() WHERE id=?]]>
   </Statement>  
   <Statement key="setpairstat" scroll_sensitive="true" updateable="true">
        <![CDATA[SELECT * FROM job_pairs WHERE id=?]]>
   </Statement>  
</Statements>